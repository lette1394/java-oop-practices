package com.github.lette1394.calculator2;

import static com.github.lette1394.calculator2.Fixtures.subjectString;
import static java.time.Duration.ofSeconds;
import static org.junit.jupiter.api.Assertions.assertTimeoutPreemptively;

import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.Timeout;

class TimeoutTest {

  @Test
  @Timeout(1)
  void longtime() {
    assertTimeoutPreemptively(ofSeconds(1), () -> {
      subjectString(aHugeMultiplyExpression());
    });
  }

  private String aHugeMultiplyExpression() {
    return "1"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321"
      + "* 987654321987654321987654321987654321987654321987654321987654321987654321987654321987654321";
  }
}